!function(){"use strict";var t=angular.module("tjToast",[]),n='<div id="tjToast" ng-if="tjToast || false" class="tjToast tjToast-{{toast.level}} {{toast.xclass}}"><span>{{toast.text}}</span><button type="button" ng-hide="toast.nodis" class="tjToast-dismiss" dismiss-toast>X</button></div>';t.directive("dismissToast",["tjToast",function(t){return{link:function(n,o){o.on("click",function(){t.dismiss()})}}}]),t.directive("tjToast",["tjToast",function(t){return{restrict:"EA",template:n,link:function(n,o,s){n.$on("tj:toast",function(o,s){n.toast=s,t.show(s.delay,s.tdelay)})}}}]),t.factory("tjToast",["$rootScope","$interval",function(t,n){var o,s=[],e=function(t){return"object"==typeof t&&"string"==typeof t.level&&"string"==typeof t.text?!0:!1},i=function(){Object.keys(s).length>0&&t.$broadcast("tj:toast",s.shift())},a=function(o){"number"!=typeof o&&(o=500),n(function(){t.tjToast=!1},0,1),n(function(){i()},o,1)};return{enqueue:function(t){e(t)===!0&&s.push(t)},show:function(s,e){"number"!=typeof s&&(s=5e3),n(function(){t.tjToast=!0},0,1),o=n(function(){a(e)},s,1)},dismiss:function(){"object"==typeof o&&n.cancel(o),a()},queue:function(){return s},now:function(){i()},reset:function(){n.cancel(o),t.tjToast=!1,s=[]}}}])}();